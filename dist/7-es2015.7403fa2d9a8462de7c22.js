(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Ol9m:function(e,i,t){"use strict";t.r(i),t.d(i,"AddLogisticsModule",(function(){return z}));var s=t("3Pt+"),r=t("ofXK"),o=t("tyNb"),b=t("SxV6"),n=t("fXoL"),c=t("2Vo4"),d=t("lJxs"),a=t("AytR"),l=t("tk/3");let u=(()=>{class e{constructor(e,i){this.router=e,this.http=i,this.logisticsSubject=new c.a(JSON.parse(localStorage.getItem("logistics"))),this.logistics=this.logisticsSubject.asObservable()}get logisticsValue(){return this.logisticsSubject.value}register(e){return console.log("service call ke pahale"),this.http.post(a.a.apiUrl+"/api/LogisticCompany/Add",e)}getAll(){return this.http.get(a.a.apiUrl+"/api/LogisticCompany/Get")}getByLogisticCompanyId(e){return this.http.get(`${a.a.apiUrl}/api/LogisticCompany/${e}/getCompanyById`)}update(e,i){return console.log(e),console.log(i),this.http.put(a.a.apiUrl+"/api/LogisticCompany/Edit",i).pipe(Object(d.a)(e=>e))}delete(e){return this.http.delete(`${a.a.apiUrl}/api/LogisticCompany/Remove?logisticCompanyId=${e}`).pipe(Object(d.a)(e=>e))}}return e.\u0275fac=function(i){return new(i||e)(n.Qb(o.c),n.Qb(l.b))},e.\u0275prov=n.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=t("J9tS");function m(e,i){1&e&&(n.Mb(0,"h1"),n.ic(1,"Add Logistic Company"),n.Lb())}function g(e,i){1&e&&(n.Mb(0,"h1"),n.ic(1,"Edit Logistic Company"),n.Lb())}function f(e,i){1&e&&(n.Mb(0,"div"),n.ic(1," Name is required"),n.Lb())}function h(e,i){if(1&e&&(n.Mb(0,"div",19),n.gc(1,f,2,0,"div",0),n.Lb()),2&e){const e=n.Vb();n.xb(1),n.Wb("ngIf",e.f.name.errors.required)}}function L(e,i){1&e&&(n.Mb(0,"div"),n.ic(1,"Last Name is required"),n.Lb())}function v(e,i){if(1&e&&(n.Mb(0,"div",19),n.gc(1,L,2,0,"div",0),n.Lb()),2&e){const e=n.Vb();n.xb(1),n.Wb("ngIf",e.f.phoneNumber.errors.required)}}function M(e,i){1&e&&(n.Mb(0,"div"),n.ic(1,"Mobile Number is required"),n.Lb())}function y(e,i){if(1&e&&(n.Mb(0,"div",19),n.gc(1,M,2,0,"div",0),n.Lb()),2&e){const e=n.Vb();n.xb(1),n.Wb("ngIf",e.f.mobileNumber.errors.required)}}function C(e,i){1&e&&(n.Mb(0,"div"),n.ic(1,"Zip Code is required"),n.Lb())}function I(e,i){if(1&e&&(n.Mb(0,"div",19),n.gc(1,C,2,0,"div",0),n.Lb()),2&e){const e=n.Vb();n.xb(1),n.Wb("ngIf",e.f.zipcode.errors.required)}}function x(e,i){1&e&&(n.Mb(0,"div"),n.ic(1,"Address is required"),n.Lb())}function N(e,i){if(1&e&&(n.Mb(0,"div",19),n.gc(1,x,2,0,"div",0),n.Lb()),2&e){const e=n.Vb();n.xb(1),n.Wb("ngIf",e.f.address.errors.required)}}function S(e,i){1&e&&n.Jb(0,"span",20)}const W=function(e){return{"is-invalid":e}};let j=(()=>{class e{constructor(e,i,t,s,r,o){this.formBuilder=e,this.route=i,this.router=t,this.logisticsService=s,this.alertService=r,this.accountService=o,this.loading=!1,this.submitted=!1}ngOnInit(){this.logisticCompanyId=this.route.snapshot.params.logisticCompanyId,this.isAddMode=!this.logisticCompanyId;const e=[s.i.minLength(6)];this.isAddMode&&e.push(s.i.required),this.form=this.formBuilder.group(this.isAddMode?{name:["",s.i.required],phoneNumber:["",s.i.required],mobileNumber:["",s.i.required],zipcode:["",s.i.required],address:["",s.i.required]}:{name:["",s.i.required],phoneNumber:["",s.i.required],mobileNumber:["",s.i.required],zipcode:["",s.i.required],address:["",s.i.required],logisticCompanyId:Number(this.logisticCompanyId)}),this.isAddMode||this.logisticsService.getByLogisticCompanyId(this.logisticCompanyId).pipe(Object(b.a)()).subscribe(e=>{this.f.name.setValue(e.name),this.f.phoneNumber.setValue(e.phoneNumber),this.f.mobileNumber.setValue(e.mobileNumber),this.f.zipcode.setValue(e.zipcode),this.f.address.setValue(e.address)})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?(console.log("Add me aaya"),this.createUser()):(console.log("Edit me aaya"),console.log(this.logisticCompanyId),this.updateUser()))}createUser(){this.logisticsService.register(this.form.value).pipe(Object(b.a)()).subscribe(e=>{this.alertService.success("Company added successfully",{keepAfterRouteChange:!0}),this.router.navigate([".",{relativeTo:this.route}])},e=>{this.alertService.error(e),this.loading=!1})}updateUser(){this.logisticsService.update(this.logisticCompanyId,this.form.value).pipe(Object(b.a)()).subscribe(e=>{this.alertService.success("Update successful",{keepAfterRouteChange:!0}),this.router.navigate(["..",{relativeTo:this.route}])},e=>{this.alertService.error(e),this.loading=!1})}}return e.\u0275fac=function(i){return new(i||e)(n.Ib(s.b),n.Ib(o.a),n.Ib(o.c),n.Ib(u),n.Ib(p.b),n.Ib(p.a))},e.\u0275cmp=n.Cb({type:e,selectors:[["ng-component"]],decls:37,vars:25,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col"],["for","name"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","phoneNumber"],["type","text","formControlName","phoneNumber",1,"form-control",3,"ngClass"],["for","mobileNumber"],["type","number","formControlName","mobileNumber",1,"form-control",3,"ngClass"],["for","zipcode"],["type","text","formControlName","zipcode",1,"form-control",3,"ngClass"],["for","address"],["type","text","formControlName","address",1,"form-control",3,"ngClass"],[1,"form-group"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/add-logistics",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,i){1&e&&(n.gc(0,m,2,0,"h1",0),n.gc(1,g,2,0,"h1",0),n.Mb(2,"form",1),n.Tb("ngSubmit",(function(){return i.onSubmit()})),n.Mb(3,"div",2),n.Mb(4,"div",3),n.Mb(5,"label",4),n.ic(6,"Name"),n.Lb(),n.Jb(7,"input",5),n.gc(8,h,2,1,"div",6),n.Lb(),n.Mb(9,"div",3),n.Mb(10,"label",7),n.ic(11,"Phone Number"),n.Lb(),n.Jb(12,"input",8),n.gc(13,v,2,1,"div",6),n.Lb(),n.Lb(),n.Mb(14,"div",2),n.Mb(15,"div",3),n.Mb(16,"label",9),n.ic(17,"Mobile Number"),n.Lb(),n.Jb(18,"input",10),n.gc(19,y,2,1,"div",6),n.Lb(),n.Mb(20,"div",3),n.Mb(21,"label",11),n.ic(22,"Zip Code"),n.Lb(),n.Jb(23,"input",12),n.gc(24,I,2,1,"div",6),n.Lb(),n.Lb(),n.Mb(25,"div",2),n.Mb(26,"div",3),n.Mb(27,"label",13),n.ic(28,"Address"),n.Lb(),n.Jb(29,"input",14),n.gc(30,N,2,1,"div",6),n.Lb(),n.Lb(),n.Mb(31,"div",15),n.Mb(32,"button",16),n.gc(33,S,1,0,"span",17),n.ic(34," Save "),n.Lb(),n.Mb(35,"a",18),n.ic(36,"Cancel"),n.Lb(),n.Lb(),n.Lb()),2&e&&(n.Wb("ngIf",i.isAddMode),n.xb(1),n.Wb("ngIf",!i.isAddMode),n.xb(1),n.Wb("formGroup",i.form),n.xb(5),n.Wb("ngClass",n.Zb(15,W,i.submitted&&i.f.name.errors)),n.xb(1),n.Wb("ngIf",i.submitted&&i.f.name.errors),n.xb(4),n.Wb("ngClass",n.Zb(17,W,i.submitted&&i.f.phoneNumber.errors)),n.xb(1),n.Wb("ngIf",i.submitted&&i.f.phoneNumber.errors),n.xb(5),n.Wb("ngClass",n.Zb(19,W,i.submitted&&i.f.mobileNumber.errors)),n.xb(1),n.Wb("ngIf",i.submitted&&i.f.mobileNumber.errors),n.xb(4),n.Wb("ngClass",n.Zb(21,W,i.submitted&&i.f.zipcode.errors)),n.xb(1),n.Wb("ngIf",i.submitted&&i.f.zipcode.errors),n.xb(5),n.Wb("ngClass",n.Zb(23,W,i.submitted&&i.f.address.errors)),n.xb(1),n.Wb("ngIf",i.submitted&&i.f.address.errors),n.xb(2),n.Wb("disabled",i.loading),n.xb(1),n.Wb("ngIf",i.loading))},directives:[r.j,s.j,s.f,s.d,s.a,s.e,s.c,r.h,s.g,o.e],styles:[""]}),e})();function A(e,i){1&e&&n.Jb(0,"span",12)}function q(e,i){1&e&&(n.Mb(0,"span"),n.ic(1,"Delete"),n.Lb())}function J(e,i){if(1&e){const e=n.Nb();n.Mb(0,"tr"),n.Mb(1,"td"),n.ic(2),n.Lb(),n.Mb(3,"td"),n.ic(4),n.Lb(),n.Mb(5,"td"),n.ic(6),n.Lb(),n.Mb(7,"td"),n.ic(8),n.Lb(),n.Mb(9,"td"),n.ic(10),n.Lb(),n.Mb(11,"td"),n.ic(12),n.Lb(),n.Mb(13,"td"),n.ic(14),n.Lb(),n.Mb(15,"td",6),n.Mb(16,"a",7),n.Jb(17,"i",8),n.ic(18,"Edit"),n.Lb(),n.Mb(19,"button",9),n.Tb("click",(function(){n.cc(e);const t=i.$implicit;return n.Vb().deleteLogistics(t.logisticCompanyId)})),n.Jb(20,"i",10),n.gc(21,A,1,0,"span",11),n.gc(22,q,2,0,"span",5),n.Lb(),n.Lb(),n.Lb()}if(2&e){const e=i.$implicit;n.xb(2),n.jc(e.name),n.xb(2),n.jc(e.phoneNumber),n.xb(2),n.jc(e.mobileNumber),n.xb(2),n.jc(e.address),n.xb(2),n.jc(e.zipcode),n.xb(2),n.jc(e.createdBy),n.xb(2),n.jc(e.updatedBy),n.xb(2),n.Xb("routerLink","edit/",e.logisticCompanyId,""),n.xb(3),n.Wb("disabled",e.isDeleting),n.xb(2),n.Wb("ngIf",e.isDeleting),n.xb(1),n.Wb("ngIf",!e.isDeleting)}}function k(e,i){1&e&&(n.Mb(0,"tr"),n.Mb(1,"td",13),n.Jb(2,"span",14),n.Lb(),n.Lb())}let w=(()=>{class e{constructor(e,i){this.logisticsService=e,this.alertService=i,this.logistics=null}ngOnInit(){this.logisticsService.getAll().pipe(Object(b.a)()).subscribe(e=>this.logistics=e)}deleteLogistics(e){this.logistics.find(i=>i.logisticCompanyId===e).isDeleting=!0,this.logisticsService.delete(e).pipe(Object(b.a)()).subscribe(()=>{this.logistics=this.logistics.filter(i=>i.logisticCompanyId!==e),this.alertService.success("Company Deleted successfully",{keepAfterRouteChange:!0})})}}return e.\u0275fac=function(i){return new(i||e)(n.Ib(u),n.Ib(p.b))},e.\u0275cmp=n.Cb({type:e,selectors:[["app-add-logistics"]],decls:26,vars:2,consts:[["routerLink","add",1,"btn","btn-sm","btn-success","mb-2"],[1,"fa","fa-user-plus",2,"font-size","17px"],[1,"table","table-striped"],[2,"width","10%"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"white-space","nowrap"],[1,"btn","btn-sm","btn-primary","mr-1",3,"routerLink"],[1,"fas","fa-user-edit",2,"font-size","17px"],[1,"btn","btn-sm","btn-danger","btn-delete-user",3,"disabled","click"],[1,"fa","fa-trash",2,"font-size","17px"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,i){1&e&&(n.Mb(0,"h1"),n.ic(1,"Add Logistics Company"),n.Lb(),n.Mb(2,"a",0),n.Jb(3,"i",1),n.ic(4," Add Company"),n.Lb(),n.Mb(5,"table",2),n.Mb(6,"thead"),n.Mb(7,"tr"),n.Mb(8,"th",3),n.ic(9,"Company Name"),n.Lb(),n.Mb(10,"th",3),n.ic(11,"Phone Number "),n.Lb(),n.Mb(12,"th",3),n.ic(13," Mobile Number"),n.Lb(),n.Mb(14,"th",3),n.ic(15," Address "),n.Lb(),n.Mb(16,"th",3),n.ic(17," Zipcode "),n.Lb(),n.Mb(18,"th",3),n.ic(19," CreatedBy "),n.Lb(),n.Mb(20,"th",3),n.ic(21," UpdatedBy "),n.Lb(),n.Jb(22,"th",3),n.Lb(),n.Lb(),n.Mb(23,"tbody"),n.gc(24,J,23,11,"tr",4),n.gc(25,k,3,0,"tr",5),n.Lb(),n.Lb()),2&e&&(n.xb(24),n.Wb("ngForOf",i.logistics),n.xb(1),n.Wb("ngIf",!i.logistics))},directives:[o.e,r.i,r.j],styles:[""]}),e})();const O=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n.Cb({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(e,i){1&e&&(n.Mb(0,"div",0),n.Mb(1,"div",1),n.Jb(2,"router-outlet"),n.Lb(),n.Lb())},directives:[o.g],encapsulation:2}),e})(),children:[{path:"",component:w},{path:"add",component:j},{path:"edit/:logisticCompanyId",component:j}]}];let V=(()=>{class e{}return e.\u0275mod=n.Gb({type:e}),e.\u0275inj=n.Fb({factory:function(i){return new(i||e)},imports:[[o.f.forChild(O)],o.f]}),e})(),z=(()=>{class e{}return e.\u0275mod=n.Gb({type:e}),e.\u0275inj=n.Fb({factory:function(i){return new(i||e)},imports:[[r.b,s.h,V]]}),e})()}}]);