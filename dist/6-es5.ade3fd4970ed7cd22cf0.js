!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{h4KG:function(t,r,o){"use strict";o.r(r),o.d(r,"AddCustomerModule",(function(){return H}));var n,s=o("3Pt+"),b=o("ofXK"),c=o("tyNb"),u=o("SxV6"),a=o("fXoL"),d=o("2Vo4"),l=o("lJxs"),m=o("AytR"),f=o("tk/3"),p=((n=function(){function t(i,r){e(this,t),this.router=i,this.http=r,this.customerSubject=new d.a(JSON.parse(localStorage.getItem("customer"))),this.customer=this.customerSubject.asObservable()}return i(t,[{key:"register",value:function(e){return console.log("service call ke pahale"),this.http.post(m.a.apiUrl+"/api/Customer/Add",e)}},{key:"getAll",value:function(){return this.http.get(m.a.apiUrl+"/api/Customer/Get")}},{key:"getByCustomerId",value:function(e){return this.http.get("".concat(m.a.apiUrl,"/api/Customer/").concat(e,"/getCustomerById"))}},{key:"update",value:function(e,t){return console.log(e),console.log(t),this.http.put(m.a.apiUrl+"/api/Customer/Edit",t).pipe(Object(l.a)((function(e){return e})))}},{key:"delete",value:function(e){return this.http.delete("".concat(m.a.apiUrl,"/api/Customer/Remove?customerId=").concat(e)).pipe(Object(l.a)((function(e){return e})))}},{key:"customerValue",get:function(){return this.customerSubject.value}}]),t}()).\u0275fac=function(e){return new(e||n)(a.Qb(c.c),a.Qb(f.b))},n.\u0275prov=a.Eb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),g=o("J9tS");function h(e,t){1&e&&a.Kb(0)}function v(e,t){1&e&&(a.Mb(0,"p"),a.ic(1,"Y"),a.Lb())}function M(e,t){1&e&&(a.Mb(0,"p"),a.ic(1,"N"),a.Lb())}function L(e,t){1&e&&a.Jb(0,"span",15)}function I(e,t){1&e&&(a.Mb(0,"span"),a.ic(1,"Delete"),a.Lb())}function C(e,t){if(1&e){var i=a.Nb();a.Mb(0,"tr"),a.Mb(1,"td"),a.ic(2),a.Lb(),a.Mb(3,"td"),a.ic(4),a.Lb(),a.Mb(5,"td"),a.ic(6),a.Lb(),a.Mb(7,"td"),a.ic(8),a.Lb(),a.Mb(9,"td"),a.ic(10),a.Lb(),a.Mb(11,"td"),a.gc(12,h,1,0,"ng-container",6),a.gc(13,v,2,0,"ng-template",null,7,a.hc),a.gc(15,M,2,0,"ng-template",null,8,a.hc),a.Lb(),a.Mb(17,"td"),a.ic(18),a.Lb(),a.Mb(19,"td"),a.ic(20),a.Lb(),a.Mb(21,"td",9),a.Mb(22,"a",10),a.Jb(23,"i",11),a.ic(24,"Edit"),a.Lb(),a.Mb(25,"button",12),a.Tb("click",(function(){a.cc(i);var e=t.$implicit;return a.Vb().deleteCustomer(e.customerId)})),a.Jb(26,"i",13),a.gc(27,L,1,0,"span",14),a.gc(28,I,2,0,"span",5),a.Lb(),a.Lb(),a.Lb()}if(2&e){var r=t.$implicit,o=a.bc(14),n=a.bc(16);a.xb(2),a.jc(r.name),a.xb(2),a.jc(r.phoneNumber),a.xb(2),a.jc(r.mobileNumber),a.xb(2),a.jc(r.address),a.xb(2),a.jc(r.zipcode),a.xb(2),a.Wb("ngIf",r.isActive)("ngIfThen",o)("ngIfElse",n),a.xb(6),a.jc(r.createdBy),a.xb(2),a.jc(r.updatedBy),a.xb(2),a.Xb("routerLink","edit/",r.customerId,""),a.xb(3),a.Wb("disabled",r.isDeleting),a.xb(2),a.Wb("ngIf",r.isDeleting),a.xb(1),a.Wb("ngIf",!r.isDeleting)}}function y(e,t){1&e&&(a.Mb(0,"tr"),a.Mb(1,"td",16),a.Jb(2,"span",17),a.Lb(),a.Lb())}var x,N=((x=function(){function t(i,r){e(this,t),this.customerService=i,this.alertService=r,this.customer=null,this.shrikant="shrikant_sharad",this.la=null,this.lg=null}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.customerService.getAll().pipe(Object(u.a)()).subscribe((function(t){return e.customer=t})),navigator.geolocation.getCurrentPosition((function(t){console.log("HI"),console.log(t.coords.latitude),e.la=t.coords.latitude,e.lg=t.coords.longitude,console.log("lat: ".concat(t.coords.latitude,", lon: ").concat(t.coords.longitude))}))}},{key:"deleteCustomer",value:function(e){var t=this;this.customer.find((function(t){return t.customerId===e})).isDeleting=!0,this.customerService.delete(e).pipe(Object(u.a)()).subscribe((function(){t.customer=t.customer.filter((function(t){return t.customerId!==e})),t.alertService.success("Customer Deleted successfully",{keepAfterRouteChange:!0})}))}}]),t}()).\u0275fac=function(e){return new(e||x)(a.Ib(p),a.Ib(g.b))},x.\u0275cmp=a.Cb({type:x,selectors:[["app-add-customer"]],decls:28,vars:2,consts:[["routerLink","add",1,"btn","btn-sm","btn-success","mb-2"],[1,"fa","fa-user-plus",2,"font-size","17px"],[1,"table","table-striped"],[2,"width","10%"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["yes",""],["no",""],[2,"white-space","nowrap"],[1,"btn","btn-sm","btn-primary","mr-1",3,"routerLink"],[1,"fas","fa-user-edit",2,"font-size","17px"],[1,"btn","btn-sm","btn-danger","btn-delete-user",3,"disabled","click"],[1,"fa","fa-trash",2,"font-size","17px"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,t){1&e&&(a.Mb(0,"h1"),a.ic(1,"Add Customer"),a.Lb(),a.Mb(2,"a",0),a.Jb(3,"i",1),a.ic(4," Add Customer"),a.Lb(),a.Mb(5,"table",2),a.Mb(6,"thead"),a.Mb(7,"tr"),a.Mb(8,"th",3),a.ic(9," Name"),a.Lb(),a.Mb(10,"th",3),a.ic(11,"Phone Number "),a.Lb(),a.Mb(12,"th",3),a.ic(13," Mobile Number"),a.Lb(),a.Mb(14,"th",3),a.ic(15," Address "),a.Lb(),a.Mb(16,"th",3),a.ic(17," Zipcode "),a.Lb(),a.Mb(18,"th",3),a.ic(19," Active "),a.Lb(),a.Mb(20,"th",3),a.ic(21," CreatedBy "),a.Lb(),a.Mb(22,"th",3),a.ic(23," UpdatedBy "),a.Lb(),a.Jb(24,"th",3),a.Lb(),a.Lb(),a.Mb(25,"tbody"),a.gc(26,C,29,14,"tr",4),a.gc(27,y,3,0,"tr",5),a.Lb(),a.Lb()),2&e&&(a.xb(26),a.Wb("ngForOf",t.customer),a.xb(1),a.Wb("ngIf",!t.customer))},directives:[c.e,b.i,b.j],styles:[""]}),x);function k(e,t){1&e&&(a.Mb(0,"h1"),a.ic(1,"Add Customer"),a.Lb())}function W(e,t){1&e&&(a.Mb(0,"h1"),a.ic(1,"Edit Customer"),a.Lb())}function S(e,t){1&e&&(a.Mb(0,"div"),a.ic(1," Name is required"),a.Lb())}function q(e,t){if(1&e&&(a.Mb(0,"div",21),a.gc(1,S,2,0,"div",0),a.Lb()),2&e){var i=a.Vb();a.xb(1),a.Wb("ngIf",i.f.name.errors.required)}}function A(e,t){1&e&&(a.Mb(0,"div"),a.ic(1,"Last Name is required"),a.Lb())}function j(e,t){if(1&e&&(a.Mb(0,"div",21),a.gc(1,A,2,0,"div",0),a.Lb()),2&e){var i=a.Vb();a.xb(1),a.Wb("ngIf",i.f.phoneNumber.errors.required)}}function w(e,t){1&e&&(a.Mb(0,"div"),a.ic(1,"Mobile Number is required"),a.Lb())}function J(e,t){if(1&e&&(a.Mb(0,"div",21),a.gc(1,w,2,0,"div",0),a.Lb()),2&e){var i=a.Vb();a.xb(1),a.Wb("ngIf",i.f.mobileNumber.errors.required)}}function V(e,t){1&e&&(a.Mb(0,"div"),a.ic(1,"Zip Code is required"),a.Lb())}function O(e,t){if(1&e&&(a.Mb(0,"div",21),a.gc(1,V,2,0,"div",0),a.Lb()),2&e){var i=a.Vb();a.xb(1),a.Wb("ngIf",i.f.zipcode.errors.required)}}function z(e,t){1&e&&(a.Mb(0,"div"),a.ic(1,"Address is required"),a.Lb())}function B(e,t){if(1&e&&(a.Mb(0,"div",21),a.gc(1,z,2,0,"div",0),a.Lb()),2&e){var i=a.Vb();a.xb(1),a.Wb("ngIf",i.f.address.errors.required)}}function Z(e,t){1&e&&(a.Mb(0,"div"),a.ic(1,"Logistic Company is required"),a.Lb())}function E(e,t){if(1&e&&(a.Mb(0,"div",21),a.gc(1,Z,2,0,"div",0),a.Lb()),2&e){var i=a.Vb();a.xb(1),a.Wb("ngIf",i.f.logisticCompanyId.errors.required)}}function D(e,t){1&e&&a.Jb(0,"span",22)}var T,U,G,P,F=function(e){return{"is-invalid":e}},R=((T=function(){function t(i,r,o,n,s,b){e(this,t),this.formBuilder=i,this.route=r,this.router=o,this.customerService=n,this.alertService=s,this.accountService=b,this.loading=!1,this.submitted=!1,this.la=null,this.lg=null}return i(t,[{key:"ngOnInit",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){console.log("HI"),console.log(t.coords.latitude),e.la=t.coords.latitude,e.lg=t.coords.longitude,console.log("lat: ".concat(t.coords.latitude,", lon: ").concat(t.coords.longitude))})),this.customerId=this.route.snapshot.params.customerId,this.isAddMode=!this.customerId;var t=[s.i.minLength(6)];this.isAddMode&&t.push(s.i.required),this.form=this.formBuilder.group(this.isAddMode?{name:["",s.i.required],phoneNumber:["",s.i.required],mobileNumber:["",s.i.required],zipcode:["",s.i.required],address:["",s.i.required],logisticCompanyId:["",s.i.required]}:{name:["",s.i.required],phoneNumber:["",s.i.required],mobileNumber:["",s.i.required],zipcode:["",s.i.required],address:["",s.i.required],logisticCompanyId:["",s.i.required],customerId:Number(this.customerId)}),this.isAddMode||this.customerService.getByCustomerId(this.customerId).pipe(Object(u.a)()).subscribe((function(t){e.f.name.setValue(t.name),e.f.phoneNumber.setValue(t.phoneNumber),e.f.mobileNumber.setValue(t.mobileNumber),e.f.zipcode.setValue(t.zipcode),e.f.address.setValue(t.address),e.f.logisticCompanyId.setValue(t.logisticCompanyId)}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?(console.log("Add me aaya"),this.createCustomer()):(console.log("Edit me aaya"),console.log(this.customerId),this.updateCustomer()))}},{key:"createCustomer",value:function(){var e=this;this.customerService.register(this.form.value).pipe(Object(u.a)()).subscribe((function(t){e.alertService.success("Customer added successfully",{keepAfterRouteChange:!0}),e.router.navigate([".",{relativeTo:e.route}])}),(function(t){e.alertService.error(t),e.loading=!1}))}},{key:"updateCustomer",value:function(){var e=this;this.customerService.update(this.customerId,this.form.value).pipe(Object(u.a)()).subscribe((function(t){e.alertService.success("Update successful",{keepAfterRouteChange:!0}),e.router.navigate(["..",{relativeTo:e.route}])}),(function(t){e.alertService.error(t),e.loading=!1}))}},{key:"f",get:function(){return this.form.controls}}]),t}()).\u0275fac=function(e){return new(e||T)(a.Ib(s.b),a.Ib(c.a),a.Ib(c.c),a.Ib(p),a.Ib(g.b),a.Ib(g.a))},T.\u0275cmp=a.Cb({type:T,selectors:[["ng-component"]],decls:42,vars:29,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col"],["for","name"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","phoneNumber"],["type","text","formControlName","phoneNumber",1,"form-control",3,"ngClass"],["for","mobileNumber"],["type","number","formControlName","mobileNumber",1,"form-control",3,"ngClass"],["for","zipcode"],["type","text","formControlName","zipcode",1,"form-control",3,"ngClass"],["for","address"],["type","text","formControlName","address",1,"form-control",3,"ngClass"],["for","logisticCompanyId"],["type","number","formControlName","logisticCompanyId",1,"form-control",3,"ngClass"],[1,"form-group"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/add-customer",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(a.gc(0,k,2,0,"h1",0),a.gc(1,W,2,0,"h1",0),a.Mb(2,"form",1),a.Tb("ngSubmit",(function(){return t.onSubmit()})),a.Mb(3,"div",2),a.Mb(4,"div",3),a.Mb(5,"label",4),a.ic(6,"Name"),a.Lb(),a.Jb(7,"input",5),a.gc(8,q,2,1,"div",6),a.Lb(),a.Mb(9,"div",3),a.Mb(10,"label",7),a.ic(11,"Phone Number"),a.Lb(),a.Jb(12,"input",8),a.gc(13,j,2,1,"div",6),a.Lb(),a.Lb(),a.Mb(14,"div",2),a.Mb(15,"div",3),a.Mb(16,"label",9),a.ic(17,"Mobile Number"),a.Lb(),a.Jb(18,"input",10),a.gc(19,J,2,1,"div",6),a.Lb(),a.Mb(20,"div",3),a.Mb(21,"label",11),a.ic(22,"Zip Code"),a.Lb(),a.Jb(23,"input",12),a.gc(24,O,2,1,"div",6),a.Lb(),a.Lb(),a.Mb(25,"div",2),a.Mb(26,"div",3),a.Mb(27,"label",13),a.ic(28,"Address"),a.Lb(),a.Jb(29,"input",14),a.gc(30,B,2,1,"div",6),a.Lb(),a.Mb(31,"div",3),a.Mb(32,"label",15),a.ic(33,"Logistic Company ID"),a.Lb(),a.Jb(34,"input",16),a.gc(35,E,2,1,"div",6),a.Lb(),a.Lb(),a.Mb(36,"div",17),a.Mb(37,"button",18),a.gc(38,D,1,0,"span",19),a.ic(39," Save "),a.Lb(),a.Mb(40,"a",20),a.ic(41,"Cancel"),a.Lb(),a.Lb(),a.Lb()),2&e&&(a.Wb("ngIf",t.isAddMode),a.xb(1),a.Wb("ngIf",!t.isAddMode),a.xb(1),a.Wb("formGroup",t.form),a.xb(5),a.Wb("ngClass",a.Zb(17,F,t.submitted&&t.f.name.errors)),a.xb(1),a.Wb("ngIf",t.submitted&&t.f.name.errors),a.xb(4),a.Wb("ngClass",a.Zb(19,F,t.submitted&&t.f.phoneNumber.errors)),a.xb(1),a.Wb("ngIf",t.submitted&&t.f.phoneNumber.errors),a.xb(5),a.Wb("ngClass",a.Zb(21,F,t.submitted&&t.f.mobileNumber.errors)),a.xb(1),a.Wb("ngIf",t.submitted&&t.f.mobileNumber.errors),a.xb(4),a.Wb("ngClass",a.Zb(23,F,t.submitted&&t.f.zipcode.errors)),a.xb(1),a.Wb("ngIf",t.submitted&&t.f.zipcode.errors),a.xb(5),a.Wb("ngClass",a.Zb(25,F,t.submitted&&t.f.address.errors)),a.xb(1),a.Wb("ngIf",t.submitted&&t.f.address.errors),a.xb(4),a.Wb("ngClass",a.Zb(27,F,t.submitted&&t.f.logisticCompanyId.errors)),a.xb(1),a.Wb("ngIf",t.submitted&&t.f.logisticCompanyId.errors),a.xb(2),a.Wb("disabled",t.loading),a.xb(1),a.Wb("ngIf",t.loading))},directives:[b.j,s.j,s.f,s.d,s.a,s.e,s.c,b.h,s.g,c.e],styles:[""]}),T),K=[{path:"",component:(U=function t(){e(this,t)},U.\u0275fac=function(e){return new(e||U)},U.\u0275cmp=a.Cb({type:U,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(e,t){1&e&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Jb(2,"router-outlet"),a.Lb(),a.Lb())},directives:[c.g],encapsulation:2}),U),children:[{path:"",component:N},{path:"add",component:R},{path:"edit/:customerId",component:R}]}],X=((P=function t(){e(this,t)}).\u0275mod=a.Gb({type:P}),P.\u0275inj=a.Fb({factory:function(e){return new(e||P)},imports:[[c.f.forChild(K)],c.f]}),P),H=((G=function t(){e(this,t)}).\u0275mod=a.Gb({type:G}),G.\u0275inj=a.Fb({factory:function(e){return new(e||G)},imports:[[b.b,s.h,X]]}),G)}}])}();