!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Ol9m:function(i,r,n){"use strict";n.r(r),n.d(r,"AddLogisticsModule",(function(){return R}));var o,s=n("3Pt+"),b=n("ofXK"),c=n("tyNb"),a=n("SxV6"),d=n("fXoL"),u=n("2Vo4"),l=n("lJxs"),f=n("AytR"),p=n("tk/3"),m=((o=function(){function i(t,r){e(this,i),this.router=t,this.http=r,this.logisticsSubject=new u.a(JSON.parse(localStorage.getItem("logistics"))),this.logistics=this.logisticsSubject.asObservable()}return t(i,[{key:"register",value:function(e){return console.log("service call ke pahale"),this.http.post(f.a.apiUrl+"/api/LogisticCompany/Add",e)}},{key:"getAll",value:function(){return this.http.get(f.a.apiUrl+"/api/LogisticCompany/Get")}},{key:"getByLogisticCompanyId",value:function(e){return this.http.get("".concat(f.a.apiUrl,"/api/LogisticCompany/").concat(e,"/getCompanyById"))}},{key:"update",value:function(e,i){return console.log(e),console.log(i),this.http.put(f.a.apiUrl+"/api/LogisticCompany/Edit",i).pipe(Object(l.a)((function(e){return e})))}},{key:"delete",value:function(e){return this.http.delete("".concat(f.a.apiUrl,"/api/LogisticCompany/Remove?logisticCompanyId=").concat(e)).pipe(Object(l.a)((function(e){return e})))}},{key:"logisticsValue",get:function(){return this.logisticsSubject.value}}]),i}()).\u0275fac=function(e){return new(e||o)(d.Qb(c.c),d.Qb(p.b))},o.\u0275prov=d.Eb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),g=n("J9tS");function h(e,i){1&e&&(d.Mb(0,"h1"),d.ic(1,"Add Logistic Company"),d.Lb())}function v(e,i){1&e&&(d.Mb(0,"h1"),d.ic(1,"Edit Logistic Company"),d.Lb())}function L(e,i){1&e&&(d.Mb(0,"div"),d.ic(1," Name is required"),d.Lb())}function y(e,i){if(1&e&&(d.Mb(0,"div",19),d.gc(1,L,2,0,"div",0),d.Lb()),2&e){var t=d.Vb();d.xb(1),d.Wb("ngIf",t.f.name.errors.required)}}function M(e,i){1&e&&(d.Mb(0,"div"),d.ic(1,"Last Name is required"),d.Lb())}function C(e,i){if(1&e&&(d.Mb(0,"div",19),d.gc(1,M,2,0,"div",0),d.Lb()),2&e){var t=d.Vb();d.xb(1),d.Wb("ngIf",t.f.phoneNumber.errors.required)}}function I(e,i){1&e&&(d.Mb(0,"div"),d.ic(1,"Mobile Number is required"),d.Lb())}function x(e,i){if(1&e&&(d.Mb(0,"div",19),d.gc(1,I,2,0,"div",0),d.Lb()),2&e){var t=d.Vb();d.xb(1),d.Wb("ngIf",t.f.mobileNumber.errors.required)}}function N(e,i){1&e&&(d.Mb(0,"div"),d.ic(1,"Zip Code is required"),d.Lb())}function k(e,i){if(1&e&&(d.Mb(0,"div",19),d.gc(1,N,2,0,"div",0),d.Lb()),2&e){var t=d.Vb();d.xb(1),d.Wb("ngIf",t.f.zipcode.errors.required)}}function S(e,i){1&e&&(d.Mb(0,"div"),d.ic(1,"Address is required"),d.Lb())}function W(e,i){if(1&e&&(d.Mb(0,"div",19),d.gc(1,S,2,0,"div",0),d.Lb()),2&e){var t=d.Vb();d.xb(1),d.Wb("ngIf",t.f.address.errors.required)}}function j(e,i){1&e&&d.Jb(0,"span",20)}var A,q=function(e){return{"is-invalid":e}},w=((A=function(){function i(t,r,n,o,s,b){e(this,i),this.formBuilder=t,this.route=r,this.router=n,this.logisticsService=o,this.alertService=s,this.accountService=b,this.loading=!1,this.submitted=!1}return t(i,[{key:"ngOnInit",value:function(){var e=this;this.logisticCompanyId=this.route.snapshot.params.logisticCompanyId,this.isAddMode=!this.logisticCompanyId;var i=[s.i.minLength(6)];this.isAddMode&&i.push(s.i.required),this.form=this.formBuilder.group(this.isAddMode?{name:["",s.i.required],phoneNumber:["",s.i.required],mobileNumber:["",s.i.required],zipcode:["",s.i.required],address:["",s.i.required]}:{name:["",s.i.required],phoneNumber:["",s.i.required],mobileNumber:["",s.i.required],zipcode:["",s.i.required],address:["",s.i.required],logisticCompanyId:Number(this.logisticCompanyId)}),this.isAddMode||this.logisticsService.getByLogisticCompanyId(this.logisticCompanyId).pipe(Object(a.a)()).subscribe((function(i){e.f.name.setValue(i.name),e.f.phoneNumber.setValue(i.phoneNumber),e.f.mobileNumber.setValue(i.mobileNumber),e.f.zipcode.setValue(i.zipcode),e.f.address.setValue(i.address)}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?(console.log("Add me aaya"),this.createUser()):(console.log("Edit me aaya"),console.log(this.logisticCompanyId),this.updateUser()))}},{key:"createUser",value:function(){var e=this;this.logisticsService.register(this.form.value).pipe(Object(a.a)()).subscribe((function(i){e.alertService.success("Company added successfully",{keepAfterRouteChange:!0}),e.router.navigate([".",{relativeTo:e.route}])}),(function(i){e.alertService.error(i),e.loading=!1}))}},{key:"updateUser",value:function(){var e=this;this.logisticsService.update(this.logisticCompanyId,this.form.value).pipe(Object(a.a)()).subscribe((function(i){e.alertService.success("Update successful",{keepAfterRouteChange:!0}),e.router.navigate(["..",{relativeTo:e.route}])}),(function(i){e.alertService.error(i),e.loading=!1}))}},{key:"f",get:function(){return this.form.controls}}]),i}()).\u0275fac=function(e){return new(e||A)(d.Ib(s.b),d.Ib(c.a),d.Ib(c.c),d.Ib(m),d.Ib(g.b),d.Ib(g.a))},A.\u0275cmp=d.Cb({type:A,selectors:[["ng-component"]],decls:37,vars:25,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col"],["for","name"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","phoneNumber"],["type","text","formControlName","phoneNumber",1,"form-control",3,"ngClass"],["for","mobileNumber"],["type","number","formControlName","mobileNumber",1,"form-control",3,"ngClass"],["for","zipcode"],["type","text","formControlName","zipcode",1,"form-control",3,"ngClass"],["for","address"],["type","text","formControlName","address",1,"form-control",3,"ngClass"],[1,"form-group"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/add-logistics",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,i){1&e&&(d.gc(0,h,2,0,"h1",0),d.gc(1,v,2,0,"h1",0),d.Mb(2,"form",1),d.Tb("ngSubmit",(function(){return i.onSubmit()})),d.Mb(3,"div",2),d.Mb(4,"div",3),d.Mb(5,"label",4),d.ic(6,"Name"),d.Lb(),d.Jb(7,"input",5),d.gc(8,y,2,1,"div",6),d.Lb(),d.Mb(9,"div",3),d.Mb(10,"label",7),d.ic(11,"Phone Number"),d.Lb(),d.Jb(12,"input",8),d.gc(13,C,2,1,"div",6),d.Lb(),d.Lb(),d.Mb(14,"div",2),d.Mb(15,"div",3),d.Mb(16,"label",9),d.ic(17,"Mobile Number"),d.Lb(),d.Jb(18,"input",10),d.gc(19,x,2,1,"div",6),d.Lb(),d.Mb(20,"div",3),d.Mb(21,"label",11),d.ic(22,"Zip Code"),d.Lb(),d.Jb(23,"input",12),d.gc(24,k,2,1,"div",6),d.Lb(),d.Lb(),d.Mb(25,"div",2),d.Mb(26,"div",3),d.Mb(27,"label",13),d.ic(28,"Address"),d.Lb(),d.Jb(29,"input",14),d.gc(30,W,2,1,"div",6),d.Lb(),d.Lb(),d.Mb(31,"div",15),d.Mb(32,"button",16),d.gc(33,j,1,0,"span",17),d.ic(34," Save "),d.Lb(),d.Mb(35,"a",18),d.ic(36,"Cancel"),d.Lb(),d.Lb(),d.Lb()),2&e&&(d.Wb("ngIf",i.isAddMode),d.xb(1),d.Wb("ngIf",!i.isAddMode),d.xb(1),d.Wb("formGroup",i.form),d.xb(5),d.Wb("ngClass",d.Zb(15,q,i.submitted&&i.f.name.errors)),d.xb(1),d.Wb("ngIf",i.submitted&&i.f.name.errors),d.xb(4),d.Wb("ngClass",d.Zb(17,q,i.submitted&&i.f.phoneNumber.errors)),d.xb(1),d.Wb("ngIf",i.submitted&&i.f.phoneNumber.errors),d.xb(5),d.Wb("ngClass",d.Zb(19,q,i.submitted&&i.f.mobileNumber.errors)),d.xb(1),d.Wb("ngIf",i.submitted&&i.f.mobileNumber.errors),d.xb(4),d.Wb("ngClass",d.Zb(21,q,i.submitted&&i.f.zipcode.errors)),d.xb(1),d.Wb("ngIf",i.submitted&&i.f.zipcode.errors),d.xb(5),d.Wb("ngClass",d.Zb(23,q,i.submitted&&i.f.address.errors)),d.xb(1),d.Wb("ngIf",i.submitted&&i.f.address.errors),d.xb(2),d.Wb("disabled",i.loading),d.xb(1),d.Wb("ngIf",i.loading))},directives:[b.j,s.j,s.f,s.d,s.a,s.e,s.c,b.h,s.g,c.e],styles:[""]}),A);function J(e,i){1&e&&d.Jb(0,"span",12)}function O(e,i){1&e&&(d.Mb(0,"span"),d.ic(1,"Delete"),d.Lb())}function V(e,i){if(1&e){var t=d.Nb();d.Mb(0,"tr"),d.Mb(1,"td"),d.ic(2),d.Lb(),d.Mb(3,"td"),d.ic(4),d.Lb(),d.Mb(5,"td"),d.ic(6),d.Lb(),d.Mb(7,"td"),d.ic(8),d.Lb(),d.Mb(9,"td"),d.ic(10),d.Lb(),d.Mb(11,"td"),d.ic(12),d.Lb(),d.Mb(13,"td"),d.ic(14),d.Lb(),d.Mb(15,"td",6),d.Mb(16,"a",7),d.Jb(17,"i",8),d.ic(18,"Edit"),d.Lb(),d.Mb(19,"button",9),d.Tb("click",(function(){d.cc(t);var e=i.$implicit;return d.Vb().deleteLogistics(e.logisticCompanyId)})),d.Jb(20,"i",10),d.gc(21,J,1,0,"span",11),d.gc(22,O,2,0,"span",5),d.Lb(),d.Lb(),d.Lb()}if(2&e){var r=i.$implicit;d.xb(2),d.jc(r.name),d.xb(2),d.jc(r.phoneNumber),d.xb(2),d.jc(r.mobileNumber),d.xb(2),d.jc(r.address),d.xb(2),d.jc(r.zipcode),d.xb(2),d.jc(r.createdBy),d.xb(2),d.jc(r.updatedBy),d.xb(2),d.Xb("routerLink","edit/",r.logisticCompanyId,""),d.xb(3),d.Wb("disabled",r.isDeleting),d.xb(2),d.Wb("ngIf",r.isDeleting),d.xb(1),d.Wb("ngIf",!r.isDeleting)}}function z(e,i){1&e&&(d.Mb(0,"tr"),d.Mb(1,"td",13),d.Jb(2,"span",14),d.Lb(),d.Lb())}var U,B,Z,D,E=((U=function(){function i(t,r){e(this,i),this.logisticsService=t,this.alertService=r,this.logistics=null}return t(i,[{key:"ngOnInit",value:function(){var e=this;this.logisticsService.getAll().pipe(Object(a.a)()).subscribe((function(i){return e.logistics=i}))}},{key:"deleteLogistics",value:function(e){var i=this;this.logistics.find((function(i){return i.logisticCompanyId===e})).isDeleting=!0,this.logisticsService.delete(e).pipe(Object(a.a)()).subscribe((function(){i.logistics=i.logistics.filter((function(i){return i.logisticCompanyId!==e})),i.alertService.success("Company Deleted successfully",{keepAfterRouteChange:!0})}))}}]),i}()).\u0275fac=function(e){return new(e||U)(d.Ib(m),d.Ib(g.b))},U.\u0275cmp=d.Cb({type:U,selectors:[["app-add-logistics"]],decls:26,vars:2,consts:[["routerLink","add",1,"btn","btn-sm","btn-success","mb-2"],[1,"fa","fa-user-plus",2,"font-size","17px"],[1,"table","table-striped"],[2,"width","10%"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"white-space","nowrap"],[1,"btn","btn-sm","btn-primary","mr-1",3,"routerLink"],[1,"fas","fa-user-edit",2,"font-size","17px"],[1,"btn","btn-sm","btn-danger","btn-delete-user",3,"disabled","click"],[1,"fa","fa-trash",2,"font-size","17px"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,i){1&e&&(d.Mb(0,"h1"),d.ic(1,"Add Logistics Company"),d.Lb(),d.Mb(2,"a",0),d.Jb(3,"i",1),d.ic(4," Add Company"),d.Lb(),d.Mb(5,"table",2),d.Mb(6,"thead"),d.Mb(7,"tr"),d.Mb(8,"th",3),d.ic(9,"Company Name"),d.Lb(),d.Mb(10,"th",3),d.ic(11,"Phone Number "),d.Lb(),d.Mb(12,"th",3),d.ic(13," Mobile Number"),d.Lb(),d.Mb(14,"th",3),d.ic(15," Address "),d.Lb(),d.Mb(16,"th",3),d.ic(17," Zipcode "),d.Lb(),d.Mb(18,"th",3),d.ic(19," CreatedBy "),d.Lb(),d.Mb(20,"th",3),d.ic(21," UpdatedBy "),d.Lb(),d.Jb(22,"th",3),d.Lb(),d.Lb(),d.Mb(23,"tbody"),d.gc(24,V,23,11,"tr",4),d.gc(25,z,3,0,"tr",5),d.Lb(),d.Lb()),2&e&&(d.xb(24),d.Wb("ngForOf",i.logistics),d.xb(1),d.Wb("ngIf",!i.logistics))},directives:[c.e,b.i,b.j],styles:[""]}),U),F=[{path:"",component:(B=function i(){e(this,i)},B.\u0275fac=function(e){return new(e||B)},B.\u0275cmp=d.Cb({type:B,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(e,i){1&e&&(d.Mb(0,"div",0),d.Mb(1,"div",1),d.Jb(2,"router-outlet"),d.Lb(),d.Lb())},directives:[c.g],encapsulation:2}),B),children:[{path:"",component:E},{path:"add",component:w},{path:"edit/:logisticCompanyId",component:w}]}],G=((D=function i(){e(this,i)}).\u0275mod=d.Gb({type:D}),D.\u0275inj=d.Fb({factory:function(e){return new(e||D)},imports:[[c.f.forChild(F)],c.f]}),D),R=((Z=function i(){e(this,i)}).\u0275mod=d.Gb({type:Z}),Z.\u0275inj=d.Fb({factory:function(e){return new(e||Z)},imports:[[b.b,s.h,G]]}),Z)}}])}();